<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>m5n.github.io</title>
    <style>
body { display: table; }
p { padding: 0.25em; display: table-cell; vertical-align: bottom; white-space: pre; }
html, body { width: 100%; height: 100%; margin: 0; padding: 0; }
body { background: black; color: #aaa; font-family: Fixed, monospace; line-height: 1.25 }
input { background: inherit; color: inherit; font: inherit; border: 0; outline: none; cursor: default; }
span { display: inline-block; width: 0.55em; height: 1em; background: #aaa; position: relative; top: 0.2em; }
div { display: none; }
    </style>
  </head>
  <body>
    <p>Connecting... <span></span></p>
    <div>

................................................................................
||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
 |    |    |       |       |    |         |      |   |         |  |    |     | 
      |  ._______          |        .__  __  .__     |   ___.     |  .__     |  
  _____  |  ____/ ____     |   ____ |__|/  |_|  |__  __ _\_ |__   |  |__| ____  
 /     \ |___  \ /    \       / ___\|  \   __\  |  \|  |  \ __ \     |  |/  _ \ 
|  Y Y  \/      \   |  \     / /_/  |  ||  | |   Y  \  |  / \_\ \    |  (  /_/ )
|__|_|  /_____  /___|  / /\  \___  /|__||__| |___|  /____/|___  / /\ |__|\____/ 
      \/      \/     \/  \/ /_____/               \/          \/  \/            
          |                            |    |          |               |
   |      |   |        |      |        |    |    |     |    |          |   |
||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
................................................................................

Welcome to m5n.github.io, home of Maarten van Egmond's open source goodness!

................................................................................

login: </div>
    <script>
/*global clearInterval, document, setInterval, setTimeout, window */
(function () {
    'use strict';

    var pNode = document.getElementsByTagName('p')[0],
        spanNode = document.getElementsByTagName('span')[0],
        textNode = document.getElementsByTagName('div')[0],
        scriptNode = document.getElementsByTagName('script')[0],
        timerId,
        index = 0,
        text = textNode.innerHTML;

    function blink() {
        // Span gets rewritten every time, so cannot cache it.
        spanNode = document.getElementsByTagName('span')[0];
        spanNode.style.visibility = spanNode.style.visibility === 'hidden' ? 'visible' : 'hidden';
    }

    function printChar() {
        clearInterval(timerId);
        spanNode = document.getElementsByTagName('span')[0];
        spanNode.style.visibility = 'visible';

        if (index === text.length) {
            timerId = setInterval(blink, 500);
            return;
        }

        var i = pNode.innerHTML.indexOf('<span'), // Could be <span style=...>
            prefix = pNode.innerHTML.substring(0, i);

        pNode.innerHTML = prefix + text.charAt(index) + '<span></span>';

        if (text.charAt(index) === '\n') {
            window.scrollTo(0, document.body.scrollHeight);
        }

        index += 1;
        setTimeout(printChar, 0);
    }

    scriptNode.parentNode.removeChild(scriptNode);
    textNode.parentNode.removeChild(textNode);

    timerId = setInterval(blink, 500);
    setTimeout(printChar, 4000);

    // TODO: character input for login & pwd.
}());
    </script>
  </body>
</html>

